model Category {
  id          Int       @id @default(autoincrement())
  parentId    Int?
  name        String    @unique @db.VarChar(255)
  slug        String    @unique @db.VarChar(255)
  description String?   @db.VarChar(255)
  createdAt   DateTime  @default(now()) @db.Timestamptz
  updatedAt   DateTime  @updatedAt @db.Timestamptz
  deletedAt   DateTime? @db.Timestamptz

  parent   Category?  @relation("CategoryToCategory", fields: [parentId], references: [id])
  children Category[] @relation("CategoryToCategory")
  products Product[]

  @@index([name])
  @@index([slug])
}
