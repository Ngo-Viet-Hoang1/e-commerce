model ProductImage {
  imageId   Int  @id @default(autoincrement())
  productId Int
  variantId Int?

  url     String  @db.VarChar(1024)
  altText String? @db.VarChar(512)

  isPrimary Boolean @default(false)
  sortOrder Int     @default(0)

  metadata Json?

  createdAt DateTime  @default(now()) @db.Timestamptz
  updatedAt DateTime  @default(now()) @db.Timestamptz
  deletedAt DateTime? @db.Timestamptz

  product Product?        @relation(fields: [productId], references: [id], onDelete: Cascade)
  variant ProductVariant? @relation(fields: [variantId], references: [id])

  @@map("product_images")
}
